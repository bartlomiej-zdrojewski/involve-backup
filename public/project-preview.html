<!--
---- Copyright (C) Bartłomiej Zdrojewski - All Rights Reserved
---- Unauthorized copying of this file, via any medium is strictly prohibited
---- Proprietary and confidential
---- Written by Bartłomiej Zdrojewski <bartlomiej.zdrojewski@invity.space>, July 2017
 -->

<md-dialog style="max-height:90%;" aria-label="Okno dialogowe">

    <form name="DialogForm" style="margin:0;" ng-cloak>

        <md-toolbar>

            <div class="md-toolbar-tools">

                <h2>Podgląd projektu</h2>

                <span flex></span>

                <md-button class="md-icon-button" ng-click="UpdateFavourite()">
                    <md-icon md-svg-src="{{ Project.favourite && local + 'images/project-favourite-fill.svg' || local + 'images/project-favourite.svg' }}" aria-label="Ustaw jako ulubiony projekt"></md-icon>
                </md-button>

                <md-button class="md-icon-button" ng-click="cancel()">
                    <md-icon md-svg-src="{{local}}images/dialog-close.svg" aria-label="Zamknij okno rejestracji"></md-icon>
                </md-button>

            </div>

        </md-toolbar>

        <md-dialog-content style="width:750px;overflow-y:auto;">

            <div style="width:100px;height:100px;margin-top:25px;margin-left:25px;float:left;">
                <img ng-src="{{Project.image}}" style="width:100px;height:100px;border-radius:50%;" />
            </div>

            <div style="margin-top:25px;margin-left:20px;float:left;">
                <div style="width:580px;height:100px;line-height:100px;font-size:40px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;">{{Project.title}}</div>
            </div>

            <div style="width:700px;margin-top:20px;margin-left:25px;float:left;text-align:justify;">
                <div style="width:700px;">{{Project.description}}</div>
            </div>

            <div style="width:600px;margin-top:20px;margin-left:65px;float:left;">
                <div class="involve-primary lighten-3" style="width:calc(50% - 10px);height:50px;margin-left:10px;margin-bottom:10px;float:left;border-radius:25px;background-color:rgba(0,0,0,0.05);" ng-repeat="role in Project.roles">
                    <div class="involve-primary" style="width:50px;height:50px;float:left;border-radius:50%;">
                        <img ng-src="{{local}}images/nodes/default.svg" style="width:80%;height:80%;margin-top:10%;margin-left:10%;border-radius:50%;" /> <!-- TODO: 'images/nodes/{{role.image}}' -->
                    </div>
                    <div style="width:calc(100% - 60px);margin-left:5px;float:left;height:30px;line-height:35px;font-size:22px;opacity:0.87;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;">{{role.title}}</div>
                    <div style="width:calc(100% - 60px);margin-left:5px;float:left;height:20px;line-height:15px;font-size:12px;opacity:0.54;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;">{{role.description}}</div>
                </div>
            </div>

            <div style="width:100%;height:10px;float:left;"></div>

        </md-dialog-content>

        <md-dialog-actions layout="row" style="padding:0px;">

            <div layout="row" style="width:295px;margin-left:70px;margin-right:10px;">
                <span flex></span>
                <md-button ng-disabled="!Project.recruitment || Project.applied" ng-click="Respond('Apply')">
                    Formularz aplikacyjny
                </md-button>
                <span flex></span>
            </div>

            <div layout="row" style="width:295px;margin-right:80px;">
                <span flex></span>
                <md-button md-autofocus ng-click="Respond('Show')">
                    Pełna strona projektu
                </md-button>
                <span flex></span>
            </div>

        </md-dialog-actions>

    </form>

</md-dialog>